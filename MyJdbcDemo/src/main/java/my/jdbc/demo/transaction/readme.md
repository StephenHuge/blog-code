其中只有一个类[CommonTransaction.java](https://github.com/StephenHuge/MyJDBCReWrite/tree/master/src/com/jdbc/transaction/CommonTransaction.java)，用来简单的定义了一下JDBC中的事务。  

数据库事务是一个比较重要的概念。  
其实在纯JDBC中，事务用到的可能不是很多，更多的是理解它的概念。但是随着学习的深入，在接触到Hibernate等ORM框架后，事务的概念相当重要，所以主要还是在概念上多理解。

# 数据库事务的概念
在数据库中,所谓事务是指一组逻辑操作单元,使数据从一种状态变换到另一种状态。  
为确保数据库中数据的一致性,数据的操纵应当是离散的成组的逻辑单元:当它全部完成时,数据的一致性可以保持,而当这个单元中的一部分操作失败,整个事务应全部视为错误,所有从起始点以后的操作应全部回退到开始状态。  
事务的操作:先定义开始一个事务,然后对数据作修改操作,这时如果提交(COMMIT),这些修改就永久地保存下来,如果回退(ROLLBACK),数据库管理系统将放弃所作的所有修改而回到开始事务时的状态。  
# 数据库事务的属性

事务的ACID(acid)属性  
    1. 原子性（Atomicity） 原子性是指事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生。   
    2. 一致性（Consistency） 事务必须使数据库从一个一致性状态变换到另外一个一致性状态。  
    3. 隔离性（Isolation） 事务的隔离性是指一个事务的执行不能被其他事务干扰，即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰。  
    4. 持久性（Durability） 持久性是指一个事务一旦被提交，它对数据库中数据的改变就是永久性的，接下来的其他操作和数据库故障不应该对其有任何影响。  

# JDBC中的事务处理
事务：指构成单个逻辑工作单元的操作集合  
事务处理：保证所有事务都作为一个工作单元来执行，即使出现了故障，都不能改变这种执行方式。当在一个事务中执行多个操作时，要么所有的事务都被提交(commit)，要么整个事务回滚(rollback)到最初状态  
当一个连接对象被创建时，默认情况下是自动提交事务：每次执行一个 SQL 语句时，如果执行成功，就会向数据库自动提交，而不能回滚  
为了让多个 SQL 语句作为一个事务执行：  
1. 调用 Connection 对象的 setAutoCommit(false) 以取消自动提交事务  
2. 在所有的 SQL 语句都成功执行后，调用 commit() 方法提交事务  
3. 在出现异常时，调用 rollback() 方法回滚事务  
4. 若此时 Connection 没有被关闭, 则需要恢复其自动提交状态  

